# Commander Walkthrough 鈥?Proof Automation (Evidence-First)

> Authoritative truth is the machine artifacts under `docs/proof/**`.
> Any claim without evidence paths is non-authoritative.

---

## 1) Build Identity (AUTO-DERIVED)
- Branch/Ref: `main`
- Commit SHA: `9277fed32093bf4a7ae1642a5ac9877c76b5dc2c`
- Commit Time (ISO8601): `2026-01-15T03:27:14+08:00`
- Workflow: `.github/workflows/audit-gates.yml`

---

## 2) Objective
Maintain a verifiable security proof pipeline:
- Default-deny via GlobalAuthGuard (APP_GUARD)
- Explicit public surface via policy allowlist + @Public/@RequiredLevel(0)
- CI gates emit machine artifacts + drift-lock proof docs

---

## 3) Gate Snapshot (AUTO-DERIVED 鈥?DO NOT EDIT)
**Source**: `docs/proof/gates/gate-summary.json`  
**SHA256**: `5f6e2e20a6ced531f59efde64dfdbf27f64d23e22a6f11c499992bc35ffb0044`

| Metric | Value |
|--------|-------|
| overall | `PASS` |
| strictMode | `PASS` |
| blockedReason | `null` |
| TotalRoutesProd | `1113` |
| CoverageProd | `98.8` |
| UnprotectedProd | `13` |
| UnprotectedNotAllowlistedProd | `0` |
| PolicyVersion | `1.1.0` |
| PolicyEndpoints | `10` |
| GlobalAuthGuardActive | `n/a` |
| GlobalGuardsDetected | `ThrottlerGuard, GlobalAuthGuard` |

**Hard interpretation:**
- **PASS**: strict release-ready
- **BLOCKED**: engineering thresholds not met (pipeline valid)
- **FAIL**: tooling/policy parsing/missing artifacts (pipeline invalid)

---

## 4) Repro Commands (Repo Root)
```bash
pwsh tools/audit/detect-ssot-duplicates.ps1
pwsh tools/audit/scan-baseline.ps1
pwsh tools/audit/scan-routes-guards.ps1 -ProductionMode
pwsh tools/audit/generate-public-surface-md.ps1
pwsh tools/audit/validate-public-surface.ps1 -Strict
pwsh tools/audit/ci-gate-check.ps1 -Strict
pwsh tools/audit/generate-proof-index.ps1
pwsh tools/audit/generate-traceability.ps1
pwsh tools/audit/generate-walkthrough.ps1
git diff --exit-code docs/proof/index.md docs/proof/traceability.md docs/proof/audit/walkthrough.md docs/proof/security/public-surface.md
```

---

## 5) Evidence Pack (Required Artifacts)

### Gates
- `docs/proof/gates/gate-summary.json`
- `docs/proof/gates/ci-gate-check-report.json`
- `docs/proof/gates/ci-gate-check-report.md`

### Proof Docs
- `docs/proof/index.md`
- `docs/proof/traceability.md`
- `docs/proof/audit/walkthrough.md` (this file)

### Public Surface
- SSOT: `docs/policy/public-surface.policy.json`
- Inventory: `docs/proof/security/public-surface.md`
- Validator: `docs/proof/security/public-surface-check-report.json`

### Route/Guard Mapping
- `docs/proof/security/T1-routes-guards-mapping.json`
- `docs/proof/security/T1-routes-guards-report.md`

---

## 6) Next Actions
- If strictMode != PASS: reduce `UnprotectedNotAllowlistedProd` to 0 via guards OR explicit allowlist for true public endpoints.
- Ensure drift-lock stays green: any proof doc mismatch must fail CI.

---

> **Generated by**: `tools/audit/generate-walkthrough.ps1`  
> **Timestamp**: 2026-01-15T03:37:36+08:00
