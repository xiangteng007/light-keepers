/**
 * Light Keepers Tactical C2 / ICS Global Styles
 * ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
 * Theme: "Tactical Dark" (Command Center)
 * Style: Matte, Low-Saturation, High-Contrast
 */

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&family=Noto+Sans+TC:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ═══════════════════════════════════════════════════════════════
   CSS CUSTOM PROPERTIES - TACTICAL DARK THEME (DEFAULT)
   ═══════════════════════════════════════════════════════════════ */

:root {
  /* ── Background Hierarchy ── */
  --tactical-bg-app: #161E2A;
  --tactical-bg-panel: #1D2635;
  --tactical-bg-surface: #242D3D;
  --tactical-bg-hover: #2A3548;
  
  /* ── Borders ── */
  --tactical-border: #2F3641;
  --tactical-border-light: #3A4556;
  --tactical-border-focus: #4A5568;
  
  /* ── Text ── */
  --tactical-text-primary: #E8E4DE;
  --tactical-text-secondary: #9CA3AF;
  --tactical-text-tertiary: #6B7280;
  --tactical-text-inverse: #161E2A;
  
  /* ── Accent: Gold ── */
  --tactical-gold: #C39B6F;
  --tactical-gold-light: #D4B896;
  --tactical-gold-dark: #A67C52;
  --tactical-gold-muted: rgba(195, 155, 111, 0.15);
  
  /* ── Status: Critical (SOS) ── */
  --tactical-critical: #893336;
  --tactical-critical-light: #A94438;
  --tactical-critical-bg: rgba(137, 51, 54, 0.2);
  
  /* ── Status: Warning ── */
  --tactical-warning: #B45309;
  --tactical-warning-light: #D97706;
  --tactical-warning-bg: rgba(180, 83, 9, 0.2);
  
  /* ── Status: Success ── */
  --tactical-success: #047857;
  --tactical-success-light: #059669;
  --tactical-success-bg: rgba(4, 120, 87, 0.2);
  
  /* ── Status: Info ── */
  --tactical-info: #1D4ED8;
  --tactical-info-light: #2563EB;
  --tactical-info-bg: rgba(29, 78, 216, 0.2);
  
  /* ── Effects ── */
  --tactical-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
  --tactical-shadow-lg: 0 4px 16px rgba(0, 0, 0, 0.6);
  --tactical-blur: 12px;
  
  /* ── Transitions ── */
  --tactical-transition: 150ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* ═══════════════════════════════════════════════════════════════
   BASE LAYER RESETS
   ═══════════════════════════════════════════════════════════════ */

@layer base {
  *,
  *::before,
  *::after {
    border-color: var(--tactical-border);
  }
  
  html {
    font-family: 'Inter', 'Noto Sans TC', sans-serif;
    font-size: 14px;
    line-height: 1.5;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }
  
  body {
    background-color: var(--tactical-bg-app);
    color: var(--tactical-text-primary);
    min-height: 100vh;
  }
  
  /* Scrollbar - Tactical Style */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  
  ::-webkit-scrollbar-track {
    background: var(--tactical-bg-app);
  }
  
  ::-webkit-scrollbar-thumb {
    background: var(--tactical-border-light);
    border-radius: 4px;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    background: var(--tactical-border-focus);
  }
  
  /* Selection - Gold accent */
  ::selection {
    background-color: var(--tactical-gold-muted);
    color: var(--tactical-text-primary);
  }
  
  /* Focus ring override */
  *:focus-visible {
    outline: 2px solid var(--tactical-gold);
    outline-offset: 2px;
  }
}

/* ═══════════════════════════════════════════════════════════════
   COMPONENT LAYER - TACTICAL UI PRIMITIVES
   ═══════════════════════════════════════════════════════════════ */

@layer components {
  /* ── Panel / Card ── */
  .tactical-panel {
    background-color: var(--tactical-bg-panel);
    border: 1px solid var(--tactical-border);
    border-radius: 0.375rem;
    box-shadow: var(--tactical-shadow);
  }
  
  .tactical-panel-elevated {
    background-color: var(--tactical-bg-surface);
    border: 1px solid var(--tactical-border-light);
    border-radius: 0.375rem;
    box-shadow: var(--tactical-shadow-lg);
  }
  
  /* ── Matte Glassmorphism ── */
  .tactical-glass {
    background: linear-gradient(
      135deg,
      rgba(29, 38, 53, 0.9) 0%,
      rgba(22, 30, 42, 0.95) 100%
    );
    backdrop-filter: blur(var(--tactical-blur));
    -webkit-backdrop-filter: blur(var(--tactical-blur));
    border: 1px solid rgba(255, 255, 255, 0.05);
    box-shadow: 
      var(--tactical-shadow),
      inset 0 1px 0 rgba(255, 255, 255, 0.03);
  }
  
  /* ── Primary Button (Gold) ── */
  .tactical-btn-primary {
    @apply inline-flex items-center justify-center;
    @apply px-4 py-2;
    @apply text-tactical-base font-medium tracking-tactical;
    @apply uppercase;
    background-color: var(--tactical-gold);
    color: var(--tactical-text-inverse);
    border-radius: 0.25rem;
    transition: all var(--tactical-transition);
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);
  }
  
  .tactical-btn-primary:hover {
    background-color: var(--tactical-gold-light);
    box-shadow: 0 0 12px rgba(195, 155, 111, 0.3);
  }
  
  .tactical-btn-primary:active {
    background-color: var(--tactical-gold-dark);
    transform: translateY(1px);
  }
  
  /* ── Ghost Button ── */
  .tactical-btn-ghost {
    @apply inline-flex items-center justify-center;
    @apply px-3 py-1.5;
    @apply text-tactical-sm font-medium tracking-tactical;
    color: var(--tactical-text-secondary);
    background: transparent;
    border: 1px solid var(--tactical-border);
    border-radius: 0.25rem;
    transition: all var(--tactical-transition);
  }
  
  .tactical-btn-ghost:hover {
    background-color: var(--tactical-bg-hover);
    color: var(--tactical-text-primary);
    border-color: var(--tactical-border-light);
  }
  
  /* ── Critical Button (SOS) ── */
  .tactical-btn-critical {
    @apply inline-flex items-center justify-center;
    @apply px-4 py-2;
    @apply text-tactical-base font-bold tracking-tactical-wide;
    @apply uppercase;
    background-color: var(--tactical-critical);
    color: var(--tactical-text-primary);
    border-radius: 0.25rem;
    transition: all var(--tactical-transition);
    animation: pulse-tactical 2s infinite;
  }
  
  .tactical-btn-critical:hover {
    background-color: var(--tactical-critical-light);
    box-shadow: 0 0 20px rgba(137, 51, 54, 0.4);
  }
  
  /* ── Input Fields ── */
  .tactical-input {
    @apply w-full px-3 py-2;
    @apply text-tactical-base;
    background-color: var(--tactical-bg-app);
    color: var(--tactical-text-primary);
    border: 1px solid var(--tactical-border);
    border-radius: 0.375rem;
    transition: all var(--tactical-transition);
  }
  
  .tactical-input::placeholder {
    color: var(--tactical-text-tertiary);
  }
  
  .tactical-input:focus {
    border-color: var(--tactical-gold);
    box-shadow: 0 0 0 2px var(--tactical-gold-muted);
    outline: none;
  }
  
  /* ── Labels ── */
  .tactical-label {
    @apply block mb-1;
    @apply text-tactical-sm font-medium tracking-tactical-wide;
    @apply uppercase;
    color: var(--tactical-text-secondary);
  }
  
  /* ── Badges ── */
  .tactical-badge {
    @apply inline-flex items-center;
    @apply px-2 py-0.5;
    @apply text-tactical-xs font-semibold tracking-tactical;
    @apply uppercase;
    border-radius: 0.25rem;
    background-color: var(--tactical-bg-surface);
    color: var(--tactical-text-secondary);
  }
  
  .tactical-badge-gold {
    background-color: var(--tactical-gold-muted);
    color: var(--tactical-gold);
  }
  
  .tactical-badge-critical {
    background-color: var(--tactical-critical-bg);
    color: var(--tactical-critical-light);
  }
  
  .tactical-badge-success {
    background-color: var(--tactical-success-bg);
    color: var(--tactical-success-light);
  }
  
  .tactical-badge-warning {
    background-color: var(--tactical-warning-bg);
    color: var(--tactical-warning-light);
  }
  
  /* ── Dividers ── */
  .tactical-divider {
    border-top: 1px solid var(--tactical-border);
  }
  
  .tactical-divider-vertical {
    border-left: 1px solid var(--tactical-border);
  }
}

/* ═══════════════════════════════════════════════════════════════
   UTILITY LAYER - TACTICAL HELPERS
   ═══════════════════════════════════════════════════════════════ */

@layer utilities {
  /* Monospace for coordinates and data */
  .font-tactical-mono {
    font-family: 'JetBrains Mono', 'Fira Code', monospace;
    font-feature-settings: 'tnum' on, 'lnum' on;
  }
  
  /* Truncate with ellipsis */
  .tactical-truncate {
    @apply overflow-hidden text-ellipsis whitespace-nowrap;
  }
  
  /* Glow effects */
  .tactical-glow-gold {
    box-shadow: 0 0 20px rgba(195, 155, 111, 0.3);
  }
  
  .tactical-glow-critical {
    box-shadow: 0 0 20px rgba(137, 51, 54, 0.4);
  }
  
  /* Status indicator dot */
  .tactical-status-dot {
    @apply w-2 h-2 rounded-full;
  }
  
  .tactical-status-dot-online {
    @apply tactical-status-dot bg-tactical-status-success;
    box-shadow: 0 0 6px rgba(4, 120, 87, 0.6);
  }
  
  .tactical-status-dot-offline {
    @apply tactical-status-dot bg-tactical-status-offline;
  }
  
  .tactical-status-dot-critical {
    @apply tactical-status-dot bg-tactical-status-critical;
    animation: blink-critical 1s step-end infinite;
  }
}

/* ═══════════════════════════════════════════════════════════════
   ANIMATIONS
   ═══════════════════════════════════════════════════════════════ */

@keyframes pulse-tactical {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

@keyframes blink-critical {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}
